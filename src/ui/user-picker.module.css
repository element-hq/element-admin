/*
 * SPDX-FileCopyrightText: Copyright 2025 New Vector Ltd.
 *
 * SPDX-License-Identifier: AGPL-3.0-only OR LicenseRef-Element-Commercial
 */

.selected-user {
  display: flex;
  gap: var(--cpd-space-4x);

  .user-chip {
    flex: 1;
    display: flex;
    gap: var(--cpd-space-3x);
    align-items: center;
    padding: var(--cpd-space-1x) var(--cpd-space-2x);
    border-radius: 6px;
    outline: 1px solid var(--cpd-color-border-interactive-secondary);
    background-color: var(--cpd-color-bg-canvas-disabled);
  }
}

.user-infos {
  flex: 1;
  display: flex;
  flex-direction: column;
  block-size: var(--cpd-space-10x);
  justify-content: center;

  .primary {
    color: var(--cpd-color-text-primary);
    font: var(--cpd-font-body-md-semibold);
    letter-spacing: var(--cpd-letter-spacing-body-md);
  }

  .secondary {
    color: var(--cpd-color-text-secondary);
    font: var(--cpd-font-body-sm-regular);
    letter-spacing: var(--cpd-letter-spacing-body-sm);
  }
}

.reference {
  z-index: 2;
}

.floating {
  z-index: 1;
  inline-size: var(--reference-width);
  margin-block-start: calc(var(--reference-height) / 2 * -1);
  padding-block-start: calc(var(--reference-height) / 2);
  background-color: var(--cpd-color-bg-canvas-default);
  border: solid 1px var(--cpd-color-border-interactive-secondary);
  box-shadow: 0 4px 24px rgb(27 29 34 / 10%);
  border-radius: 0 0 12px 12px;
  overflow: hidden;

  .no-match,
  .loading {
    padding: var(--cpd-space-4x);

    .headline {
      font: var(--cpd-font-body-md-semibold);
      letter-spacing: var(--cpd-letter-spacing-body-md);
      color: var(--cpd-color-text-primary);
    }

    .help {
      font: var(--cpd-font-body-sm-regular);
      letter-spacing: var(--cpd-letter-spacing-body-sm);
      color: var(--cpd-color-text-secondary);
    }
  }

  .loading {
    font: var(--cpd-font-body-md-semibold);
    letter-spacing: var(--cpd-letter-spacing-body-md);
    color: var(--cpd-color-text-disabled);
  }

  .list {
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    max-height: var(--available-height);

    .item {
      display: flex;
      gap: var(--cpd-space-3x);
      align-items: center;
      border-block-start: solid 1px var(--cpd-color-gray-300);
      padding: var(--cpd-space-2x) var(--cpd-space-4x);
      background-color: var(--cpd-color-bg-action-secondary-rest);

      &:first-of-type {
        border-block-start: none;
      }

      &[data-active="true"] {
        background-color: var(--cpd-color-bg-action-secondary-pressed);
      }
    }

    &[aria-busy="true"] {
      .item,
      .item[data-active="true"] {
        background-color: var(--cpd-color-bg-canvas-disabled);
        filter: grayscale();

        .primary,
        .secondary {
          color: var(--cpd-color-text-disabled);
        }
      }
    }
  }
}
